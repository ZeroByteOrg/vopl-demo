#!/usr/bin/php -f
<?php

// we're being lazy and using the first X colors of the palette
// and stomping on the system palette - text would be greyscale
// using this. It's easier than re-indexing the PNG.

// This is the color palette for the Wolf3d title screen PNG
$pal = array
(
  0x000,0x111,0x222,0x333,0x444,0x555,0x666,0x777,
  0x888,0x999,0xaaa,0xbbb,0xccc,0xddd,0xeee,0xfff,
  0x400,0x500,0x600,0x700,0x800,0x900,0xa00,0xb00,
  0xc00,0xd00,0xe00,0xf00,0xf22,0xf44,0xf55,0xf77,
  0xf99,0xfbb,0xfdd,0x321,0x431,0x531,0x542,0x642,
  0x742,0x940,0x852,0x853,0x953,0x963,0xa63,0xa64,
  0xb74,0xc74,0xd85,0xe85,0xf95,0xf96,0xfa7,0xfb8,
  0xfb9,0x220,0x440,0x550,0x760,0x880,0x990,0xff9,
  0xffb,0x040,0x050,0x060,0x070,0x080,0x090,0x0a0,
  0x0b0,0x0c0,0x0e0,0x0f0,0x8f7,0xbfb,0xdfd,0x044,
  0x055,0x066,0x077,0x088,0x099,0x0aa,0x2bb,0x0cc,
  0x4cc,0x7cc,0x9dd,0xbee,0xdff,0x001,0x002,0x003,
  0x004,0x005,0x006,0x007,0x008,0x009,0x00a,0x00b,
  0x00d,0x000,0x000,0x000,0x9f3,0x000,0x000,0x000, // the overlay txt uses 5th entry
  0x2af,0xbff,0x0ff,0x0ee,0x7ff,0x09f,0x5ff,0x0cc, // PC13 palette (palette 7)
  0x08e,0x9ff,0x5bf,0x4bf,0xfff,0x2af
);

$pal_default = array
(
  0x000,0xfff,0x800,0xafe,0xc4c,0x0c5,0x00a,0xee7,
  0x640,0xd85,0xf77,0x333,0x777,0xaf6,0x08f,0xbbb,
  0x000,0x111,0x222,0x333,0x444,0x555,0x666,0x777,
  0x888,0x999,0xaaa,0xbbb,0xccc,0xddd,0xeee,0xfff,
  0x211,0x433,0x644,0x866,0xa88,0xc99,0xfbb,0x211,
  0x422,0x633,0x844,0xa55,0xc66,0xf77,0x200,0x411,
  0x611,0x822,0xa22,0xc33,0xf33,0x200,0x400,0x600,
  0xa00,0xa00,0xc00,0xf00,0x221,0x443,0x664,0x886,
  0xaa8,0xcc9,0xfeb,0x211,0x432,0x653,0x874,0xa95,
  0xcb6,0xfd7,0x210,0x431,0x651,0x862,0xa82,0xca3,
  0xfc3,0x210,0x430,0x640,0x860,0xa80,0xc90,0xfb0,
  0x121,0x343,0x564,0x786,0x9a8,0xbc9,0xdfb,0x121,
  0x342,0x463,0x684,0x8a5,0x9c6,0xbf7,0x120,0x241,
  0x461,0x582,0x6a2,0x8c3,0x9f3,0x120,0x240,0x360,
  0x480,0x5a0,0x6c0,0x7f0,0x121,0x343,0x465,0x686,
  0x8a8,0x9ca,0xbfc,0x121,0x242,0x364
);



// p.s. I keyed this in by hand, that's why the lazy factor
//   -- will probably try to upgrade img2tileset.py to add
//   -- a palette extractor functionality to it.

$fp = fopen('PAL.BIN', 'w');
fwrite($fp, pack('v',0xffff)); // dummy 2-byte header
foreach ($pal as $p) {
	fwrite($fp, pack('v',$p));
}
fclose($fp);
